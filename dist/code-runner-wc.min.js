class CodeRunner extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.getAttribute("language"),o=this.getAttribute("version"),t="<style>/*compress*/\n.code-knack-playground{position:relative;background-color:#3a3636;background-color:var(--bg,#3a3636);border-radius:10px;border:1px solid var(--border,rgba(0,0,0,.1))}.code-knack-playground.line-number .CodeMirror{padding-left:0}.code-knack-playground img{max-width:90%!important;display:inline-block!important;border-radius:0!important;box-shadow:none!important}.code-knack-playground .code-knack-pane{height:40px;display:flex;border-radius:3px}.code-knack-playground .code-knack-pane .code-knack-title{flex:1;padding-left:20px;color:var(--title,#fff);display:flex;font-size:14px;font-family:Metropolis-Medium,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,'Helvetica Neue',sans-serif;align-items:center;opacity:.5;text-transform:uppercase}.code-knack-playground .code-knack-pane .code-knack-ctrl{flex:1;display:flex;justify-content:flex-end}.code-knack-playground .code-knack-pane button.ck-button{height:40px;padding:0 16px;font-size:14px;background:0 0;border:none;border-radius:0;color:var(--button-text,wheat);opacity:.8;outline:0;display:flex;align-items:center;box-shadow:-1px 0 0 0 var(--button-border,rgba(0,0,0,.5))}.code-knack-playground .code-knack-pane button.ck-button img{height:14px;margin-right:3px}.code-knack-playground .code-knack-pane button.ck-button:hover{opacity:1}.code-knack-playground .code-knack-pane button.ck-button:active{opacity:.6}.code-knack-playground pre{background:0 0;color:var(--code,#fff);border-bottom-left-radius:3px;border-bottom-right-radius:3px}.code-knack-playground .CodeMirror{padding-left:16px}.code-knack-playground .CodeMirror,.code-knack-playground .code-knack-text{font-size:14px;line-height:18px;height:auto}.code-knack-playground .CodeMirror pre,.code-knack-playground .code-knack-text pre{padding:0 4px;font-family:Menlo,'Roboto Mono','Courier New',Courier,monospace!important}.code-knack-playground .code-knack-text{color:var(--code,#fff);border:none;width:100%;height:100%;background:var(--code-bg,#272823);font-family:Menlo,'Roboto Mono','Courier New',Courier,monospace!important}.code-knack-playground .code-knack-output{display:none;background:var(--bg,#3a3636);font-family:Menlo,'Roboto Mono','Courier New',Courier,monospace!important;border-top:1px solid var(--border,rgba(0,0,0,.1))}.code-knack-playground .code-knack-output .code-knack-output-title{color:var(--text,#fff);opacity:.6;font-size:12px;margin:0 10px 0 20px;padding:4px 0;font-family:Metropolis-Medium -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,'Helvetica Neue',sans-serif;border-bottom:1px solid rgba(255,255,255,.06)}.code-knack-playground .code-knack-output .code-knack-output-content{color:var(--text,#fff);white-space:pre-line;padding:8px 12px 8px 20px;font-size:14px;overflow:auto;white-space:pre-wrap}.code-knack-playground .code-knack-output.html-output .code-knack-output-content{max-width:100%!important;background:#fcfdff;margin:0 10px;color:#000;border-radius:3px;border:1px solid var(--border,rgba(0,0,0,.1))}.code-knack-playground .code-knack-output.html-output .code-knack-output-content .katex .base{margin:10px 0}.code-knack-playground .code-knack-footer{background-color:#3a3636;background-color:var(--bg,#3a3636);height:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.code-knack-playground .code-knack-mask{display:none;position:absolute;top:0;left:0;right:0;bottom:0;color:#fff;z-index:10;align-items:center;justify-content:center;background:rgba(0,0,0,.4)}\n/*endcompress*/\n </style>\n ";if(!e||!o)return this.innerHTML=`${t}   \x3c!--compress--\x3e  \n      <div> <pre style="padding: 0px; --bg:rgb(58, 54, 54); --text:rgb(255, 255, 255); --border:rgba(0,0,0,0.3); --code:rgb(255, 255, 255); --code-bg:rgba(39, 40, 35, 1); --title:rgb(255, 255, 255); --button-text:wheat; --button-border:rgba(0,0,0,0.18);"><div class="code-knack-playground "><div class="code-knack-pane"><div class="code-knack-title">Error!</div> </div><div id="codetorun" class="code-knack-text" style="/* display: none; */">Error: Required HTML Attributes Missing For Web Component ... </div> </div> </div>\n      \x3c!--endcompress--\x3e\n      `;this.spellcheck=!1,this.innerHTML=` ${t}\n    \x3c!--compress--\x3e\n<div code-runner-component language=${e} version=${o}> <pre style="padding: 0px; --bg:rgb(58, 54, 54); --text:rgb(255, 255, 255); --border:rgba(0,0,0,0.3); --code:rgb(255, 255, 255); --code-bg:rgba(39, 40, 35, 1); --title:rgb(255, 255, 255); --button-text:wheat; --button-border:rgba(0,0,0,0.18);"><div class="code-knack-playground " data-lang="cpp" data-options=""><div class="code-knack-pane"><div class="code-knack-title">${e}</div> <div class="code-knack-mask">Copied to the clipboard.</div><div class="code-knack-ctrl"><button class="ck-button run-button" code-runner-button><img src="https://lyricat.github.io/code-knack/demo/lib/code-knack/images/icon-play-dark.svg"><span >run</span></button><button class="ck-button copy-button" code-runner-copy-button><img src="https://lyricat.github.io/code-knack/demo/lib/code-knack/images/icon-copy-dark.svg"><span>copy</span></button></div> </div><div id="codetorun" class="code-knack-text" contenteditable style="/* display: none; */">${this.innerHTML}</div><div id="output_section" class="code-knack-output text-output"><div class="code-knack-output-title">Output</div><pre class="code-knack-output-content" id="result">Loading..<br></pre></div></div></pre> </div> </div>\n      \x3c!--endcompress--\x3e\n    `}}async function getData(e){console.log(e.querySelector("#output_section")),e.querySelector("#output_section").style.display="block";try{let o=await(await fetch("https://emkc.org/api/v2/piston/execute",{method:"POST",body:JSON.stringify({language:e.getAttribute("language").toLowerCase(),version:e.getAttribute("version"),files:[{content:e.querySelector("#codetorun").innerText}]})})).json();console.log(o),o.message?e.querySelector("#result").innerText=JSON.stringify(`Error ${o.message}`):e.querySelector("#result").innerText=o.run.output}catch(o){console.log(o.message),e.querySelector("#result").innerText=o.message}}window.customElements.define("code-runner",CodeRunner);const web_compontents=document.querySelectorAll("[code-runner-component]");function handleClick(e){getData(e)}function handleCopyBtnClick(e){navigator.clipboard.writeText(e.querySelector("#codetorun").innerText),e.querySelector(".code-knack-mask").style.display="flex",setTimeout((()=>{e.querySelector(".code-knack-mask").style.display="none"}),"3000")}web_compontents.forEach((e=>e.querySelector("[ code-runner-button]").addEventListener("click",(o=>handleClick(e))))),web_compontents.forEach((e=>e.querySelector("[code-runner-copy-button]").addEventListener("click",(o=>handleCopyBtnClick(e)))));/**! * @license Run-Code-Web-Component - A web-component to run code examples (like Python, C++ & more) with ease on your website * LICENSED UNDER GPL-3.0 LICENSE * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/Run-Code-Web-Component/ */
